<div> 
 <h2>{{modoEditar() ? 'Edición': 'Creación'}} de Reglas</h2>
  <div class="panel panel-success">
    <div class="panel-heading">
        Ingrese los datos a modificar
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-8 col-md-offset-1">
                <form role="form" name=reglasEForm>

                    <div class="form-group" novalidate>
                        <input class="form-control" name="nombre" placeholder="Nombre" ng-disabled="modoEditar();"
                        ng-model="regla_seleccionada.nombre" ng-minlength="3" ng-maxlength="20" ng-pattern="/^[A-Za-z0-9]+$/"required>

                            <span style="color:red" ng-show="reglasEForm.nombre.$touched && reglasEForm.nombre.$error.required">Ingrese el nombre.</span>

                            <span style="color:red" ng-show="reglasEForm.nombre.$touched && reglasEForm.nombre.$error.minlength">El nombre debe contener al menos 3 caracteres.</span>
                            
                            <span style="color:red" ng-show="reglasEForm.nombre.$touched && reglasEForm.nombre.$error.maxlength">El nombre no puede contener más de 20 caracteres.</span> 

                            <span style="color:red" ng-show="reglasEForm.nombre.$touched && reglasEForm.nombre.$error.pattern">El nombre no puede contener caracteres especiales ni espacios.</span>
                    </div>

                     <div class="form-group" novalidate>
                          <textarea class="form-control vresize" name="condicion" placeholder="Condición" 
                          rows="10" ng-model="condicion" ng-model="regla_seleccionada.condicion"required></textarea>
                         
                          <span style="color:red"  ng-show="reglasEForm.condicion.$touched && reglasEForm.condicion.$error.required">Ingrese la condición.</span> 
                    </div>

                    <div class="form-group" novalidate>
                        <select class="selectpicker" data-style="btn-default" placeholder="Acción" name="accion" data-live-search="true" ng-model="regla_seleccionada.accion" name="accion">
                            <option>Esperar</option>
                            <option>Consolidar</option>
                            <option>Descartar</option>  
                         </select>
                         <span style="color:red"  ng-show="reglasEForm.accion.$touched && reglasEForm.accion.$error.required">Seleccione la acción.</span> 
                    </div>

                    <div class="form-group" novalidate>
                        <input type="number" class="form-control bfh-number" placeholder="Segundos" name="segundos" type="number"
                        ng-model="regla_seleccionada.segundos">
                    </div>

                    <div class="form-group" novalidate>
                        
                        <textarea class="form-control vresize" name="descripcion" placeholder="Descripción" ng-model="descripcion"rows="10"required></textarea>

                        <span style="color:red"  ng-show="reglasEForm.descripcion.$touched && reglasEForm.descripcion.$error.required">Ingrese la descripción.</span> 
                    </div>

                    <div class="form-group" novalidate>
                        <select class="selectpicker" data-style="btn-default" placeholder="Medio" data-live-search="true" ng-model="regla_seleccionada.medio">
                            <option>Medio 1</option>
                            <option>Medio 2</option>
                            <option>Medio 3</option>  
                         </select>
                    </div>  
   
                    <div class="form-group">
                        <button class="btn btn-md btn-success" ng-disabled="!reglasEForm.$valid" data-toggle="modal" data-target="#crear">Crear</button>

                        <button class="btn btn-md" data-toggle="modal" data-target="#cancelar" formnovalidate>Cancelar</button>
                    </div>



                    <div class="modal fade" id="cancelar" role="dialog">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Salir</h4>
                                </div>
                                <div class="modal-body">
                                    <p>¿Desea salir sin guardar los cambios?</p>
                                </div>  
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-md" data-dismiss="modal" ng-click="cancelar();">Aceptar</button>
                                    <button type="button" class="btn btn-md" ui-sref="reglas-editar" data-dismiss="modal">Cancelar</button>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->

                    <div class="modal fade" id="crear" role="dialog">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header"> 
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Confirmar los cambios</h4>
                                </div>
                                <div class="modal-body">
                                    <p>¿Desea guardar los cambios?</p>
                                </div>  
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-md" data-dismiss="modal" ng-click="generarRegla();">Aceptar</button>
                                    <button type="button" class="btn btn-md" ui-sref="reglas-editar" data-dismiss="modal">Cancelar</button>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal-dialog -->
                    </div><!-- /.modal

                </form>
            </div>            
        </div>        
    </div>
  </div>
</div>